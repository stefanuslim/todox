(this.webpackJsonptodox=this.webpackJsonptodox||[]).push([[10],{214:function(e,t,a){"use strict";a.r(t);var n=a(48),l=a(35),i=a(45),s=a(41),o=a(42),r=a(47),c=a(46),d=a(0),u=a.n(d),p=a(5),m=a(189),h=a(190),b=a(191),g=a(192),E=a(193),f=a(157),w=a(107),v=a(194),y=a(237),k=a(158),x=a(196),O=a(205),j=a(206),L=a(207),C=a(208),D=a(233),S=a(213),I=a(106),B=a(161),N=a(195),T=a(197),M=a(198),P=a(199),F=a(200),R=a(201),z=a(202),A=a(159),W=a(203),J=a(160),_=a(204),G=a(36),Y=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return u.a.createElement(G.c,{to:this.props.link,activeClassName:this.props.classes.active},u.a.createElement(m.a,{button:!0},this.props.Icon?u.a.createElement(h.a,null,u.a.createElement(this.props.Icon,null)):"",u.a.createElement(b.a,{primary:this.props.text})))}}]),a}(u.a.Component),$=Object(p.a)((function(e){return{active:{"& .MuiListItem-root":{background:"".concat(e.palette.primary.light),borderTopRightRadius:20,borderBottomRightRadius:20}}}}))(Y),q=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={title:"todox",lists:[],dialogOpen:!1},window.setTitle=function(e){a.setState({title:e})},a.handleDialogOpen=a.handleDialogOpen.bind(Object(i.a)(a)),a.handleDialogClose=a.handleDialogClose.bind(Object(i.a)(a)),a.getLists=a.getLists.bind(Object(i.a)(a)),a.addList=a.addList.bind(Object(i.a)(a)),a.createList=a.createList.bind(Object(i.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.database?this.getLists():a.e(0).then(a.bind(null,120)).then((function(t){console.log("[indexedDB] Creating database instance");var a=new t.default;a.onsuccess=function(t){window.database=a,e.getLists()}}))}},{key:"getLists",value:function(){var e=this;window.database.getMultipleByFilters("lists","id",{filter:"__re",val:/^(?!.*bills|today|work|shopping).*$/},(function(t){e.setState(Object(l.a)(Object(l.a)({},e.state),{},{listsLoaded:!0,lists:t||[]}))}))}},{key:"handleDialogOpen",value:function(){this.setState(Object(l.a)(Object(l.a)({},this.state),{},{dialogOpen:!0}))}},{key:"addList",value:function(e){var t=this;a.e(1).then(a.bind(null,136)).then((function(a){var n=new a.default.TodoList(e,(function(){window.database.add("lists",n).onsuccess=function(e){console.log("done"),t.handleDialogClose(),t.getLists()}}),{onerror:function(e){console.log("error",e),t.setState(Object(l.a)(Object(l.a)({},t.state),{},{addError:"This name is already being used. Please try sometthing else!"}))}})}))}},{key:"createList",value:function(){var e=this,t=document.getElementById("add-list-to-db").value;t?window.database?this.addList(t):a.e(0).then(a.bind(null,120)).then((function(a){console.log("[indexedDB] Creating database instance");var n=new a.default;n.onsuccess=function(a){window.database=n,e.addList(t)}})):this.setState(Object(l.a)(Object(l.a)({},this.state),{},{addError:"Please enter a name"}))}},{key:"handleDialogClose",value:function(){this.setState(Object(l.a)({},this.setState(Object(l.a)(Object(l.a)({},this.state),{},{dialogOpen:!1,addError:void 0}))))}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement(g.a,{position:"fixed",className:this.props.classes.appBar},u.a.createElement(E.a,null,u.a.createElement(f.a,{variant:"h6",noWrap:!0},this.state.title),u.a.createElement("div",{className:this.props.classes.grow}),u.a.createElement(w.a,{edge:"end",color:"inherit","aria-label":"Show Notifications"},u.a.createElement(v.a,{badgeContent:6,color:"primary",max:9},u.a.createElement(N.a,null))))),u.a.createElement("nav",{className:this.props.classes.drawer},u.a.createElement(y.a,{classes:{paper:this.props.classes.drawerPaper},variant:"permanent",open:!0},u.a.createElement("div",null,u.a.createElement("div",{className:this.props.classes.toolbar}),u.a.createElement(k.a,null),u.a.createElement(x.a,null,u.a.createElement($,{link:"/todox/lists/today",text:"My Day",Icon:T.a}),u.a.createElement($,{link:"/todox/lists/starred",text:"Starred Tasks",Icon:M.a}),u.a.createElement($,{link:"/todox/lists/bills",text:"Bills",Icon:P.a}),u.a.createElement($,{link:"/todox/lists/shopping",text:"Shopping List",Icon:F.a}),u.a.createElement($,{link:"/todox/lists/work",text:"Work",Icon:R.a})),u.a.createElement(k.a,null),u.a.createElement(x.a,null,u.a.createElement($,{link:"/todox/viewby/pending",text:"Pending",Icon:z.a}),u.a.createElement($,{link:"/todox/viewby/done",text:"Done",Icon:A.a}),u.a.createElement($,{link:"/todox/viewby/missing",text:"Missing",Icon:W.a})),u.a.createElement(k.a,null),u.a.createElement(x.a,null,u.a.createElement("div",{className:this.props.classes.button},u.a.createElement(f.a,{variant:"button"},"Your Lists"),u.a.createElement("div",{className:this.props.classes.grow}),u.a.createElement(w.a,{onClick:this.handleDialogOpen},u.a.createElement(J.a,null))),this.state.listsLoaded?0!==this.state.lists.length?this.state.lists.map((function(e){return u.a.createElement($,{text:e.name,link:"/todox/lists/".concat(e.id),key:e.id})})):u.a.createElement(f.a,{variant:"body1",component:"i",className:this.props.classes.notFound},"No lists found. Click on the + icon on top right to create one"):u.a.createElement("div",{style:{padding:8}},u.a.createElement(B.a,{width:200}),u.a.createElement(B.a,{width:160}))),u.a.createElement(k.a,null),u.a.createElement(x.a,null,u.a.createElement(m.a,{button:!0},u.a.createElement(h.a,null,u.a.createElement(_.a,null)),u.a.createElement(b.a,{primary:"About us"})))))),u.a.createElement(O.a,{open:this.state.dialogOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},u.a.createElement(j.a,{id:"form-dialog-title"},"Add new List"),u.a.createElement(L.a,null,u.a.createElement(C.a,null,"To create a new task-list enter your list title here"),u.a.createElement(D.a,{autoFocus:!0,margin:"dense",id:"add-list-to-db",label:"List tittle",type:"text",fullWidth:!0,autoComplete:"off",error:Boolean(this.state.addError),helperText:this.state.addError})),u.a.createElement(S.a,null,u.a.createElement(I.a,{onClick:this.handleDialogClose,color:"primary"},"Cancel"),u.a.createElement(I.a,{onClick:this.createList,color:"primary"},"Add"))))}}]),n}(u.a.Component);t.default=Object(p.a)((function(e){return{drawer:Object(n.a)({"& a":{color:e.palette.text.primary}},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(n.a)({background:"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.secondary.main,")")},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},grow:{flexGrow:1},button:{display:"flex",padding:0,fontSize:e.typography.subtitle2.fontSize,width:"-webkit-fill-available","& .MuiTypography-root, .MuiIconButton-root":{padding:e.spacing(1)}},notFound:{fontSize:"smaller",padding:" 0 ".concat(e.spacing(1),"px"),display:"flex"}}}))(q)}}]);
//# sourceMappingURL=10.498a6e19.chunk.js.map