(this.webpackJsonptodox=this.webpackJsonptodox||[]).push([[11],{236:function(e,t,a){"use strict";a.r(t);var n=a(48),s=a(35),l=a(45),i=a(41),o=a(42),r=a(47),c=a(46),d=a(0),h=a.n(d),p=a(5),m=a(189),u=a(190),g=a(191),b=a(192),w=a(193),E=a(107),f=a(157),v=a(194),O=a(237),y=a(158),k=a(196),D=a(205),x=a(206),j=a(207),L=a(208),C=a(233),T=a(213),N=a(106),S=a(161),I=a(118),B=Object(I.a)(h.a.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"MenuOutlined"),M=a(195),z=a(197),P=a(198),F=a(199),R=a(200),A=a(201),H=a(202),W=a(159),J=a(203),_=a(160),G=a(204),V=a(36),Y=function(e){Object(r.a)(a,e);var t=Object(c.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return h.a.createElement(V.c,{to:this.props.link,activeClassName:"".concat(this.props.classes.active," ").concat(this.props.classes.root),className:this.props.classes.root,onClick:this.props.handleDrawer},h.a.createElement(m.a,{button:!0},this.props.Icon?h.a.createElement(u.a,null,h.a.createElement(this.props.Icon,null)):"",h.a.createElement(g.a,{primary:this.props.text})))}}]),a}(h.a.Component),$=Object(p.a)((function(e){return{active:{"& .MuiListItem-root":{background:"".concat(e.palette.primary.light),borderTopRightRadius:20,borderBottomRightRadius:20}},root:{textDecoration:"none",color:e.palette.text.primary}}}))(Y),q=function(e){Object(r.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).state={title:"todox",lists:[],dialogOpen:!1},window.setTitle=function(e){a.setState({title:e})},a.handleDrawerToggle=a.handleDrawerToggle.bind(Object(l.a)(a)),a.handleDialogOpen=a.handleDialogOpen.bind(Object(l.a)(a)),a.handleDialogClose=a.handleDialogClose.bind(Object(l.a)(a)),a.getLists=a.getLists.bind(Object(l.a)(a)),a.addList=a.addList.bind(Object(l.a)(a)),a.createList=a.createList.bind(Object(l.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.database?this.getLists():a.e(0).then(a.bind(null,120)).then((function(t){console.log("[indexedDB] Creating database instance");var a=new t.default;a.onsuccess=function(t){window.database=a,e.getLists()}}))}},{key:"getLists",value:function(){var e=this;window.database.getMultipleByFilters("lists","id",{filter:"__re",val:/^(?!.*bills|today|work|shopping).*$/},(function(t){e.setState(Object(s.a)(Object(s.a)({},e.state),{},{listsLoaded:!0,lists:t||[]}))}))}},{key:"handleDialogOpen",value:function(){this.setState(Object(s.a)(Object(s.a)({},this.state),{},{dialogOpen:!0}))}},{key:"addList",value:function(e){var t=this;a.e(1).then(a.bind(null,136)).then((function(a){var n=new a.default.TodoList(e,(function(){window.database.add("lists",n).onsuccess=function(e){console.log("done"),t.handleDialogClose(),t.getLists()}}),{onerror:function(e){console.log("error",e),t.setState(Object(s.a)(Object(s.a)({},t.state),{},{addError:"This name is already being used. Please try sometthing else!"}))}})}))}},{key:"createList",value:function(){var e=this,t=document.getElementById("add-list-to-db").value;t?window.database?this.addList(t):a.e(0).then(a.bind(null,120)).then((function(a){console.log("[indexedDB] Creating database instance");var n=new a.default;n.onsuccess=function(a){window.database=n,e.addList(t)}})):this.setState(Object(s.a)(Object(s.a)({},this.state),{},{addError:"Please enter a name"}))}},{key:"handleDialogClose",value:function(){this.setState(Object(s.a)({},this.setState(Object(s.a)(Object(s.a)({},this.state),{},{dialogOpen:!1,addError:void 0}))))}},{key:"handleDrawerToggle",value:function(){this.setState(Object(s.a)(Object(s.a)({},this.state),{},{mobileOpen:!this.state.mobileOpen}))}},{key:"render",value:function(){var e=this;return h.a.createElement("div",null,h.a.createElement(b.a,{position:"fixed",className:this.props.classes.appBar},h.a.createElement(w.a,null,h.a.createElement(E.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:this.handleDrawerToggle,className:this.props.classes.menuButton},h.a.createElement(B,null)),h.a.createElement(f.a,{variant:"h6",noWrap:!0},this.state.title),h.a.createElement("div",{className:this.props.classes.grow}),h.a.createElement(E.a,{edge:"end",color:"inherit","aria-label":"Show Notifications"},h.a.createElement(v.a,{badgeContent:6,color:"primary",max:9},h.a.createElement(M.a,null))))),h.a.createElement("nav",{className:this.props.classes.drawer},h.a.createElement(O.a,{variant:"temporary",anchor:"left",open:this.state.mobileOpen,onClose:this.handleDrawerToggle,classes:{paper:this.props.classes.drawerPaper},ModalProps:{keepMounted:!0}},h.a.createElement("div",null,h.a.createElement("div",{className:this.props.classes.toolbar}),h.a.createElement(y.a,null),h.a.createElement(k.a,null,h.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/today",text:"My Day",Icon:z.a}),h.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/starred",text:"Starred Tasks",Icon:P.a}),h.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/bills",text:"Bills",Icon:F.a}),h.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/shopping",text:"Shopping List",Icon:R.a}),h.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/lists/work",text:"Work",Icon:A.a})),h.a.createElement(y.a,null),h.a.createElement(k.a,null,h.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/viewby/pending",text:"Pending",Icon:H.a}),h.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/viewby/done",text:"Done",Icon:W.a}),h.a.createElement($,{className:this.props.classes.a,handleDrawer:this.handleDrawerToggle,link:"/todox/viewby/missing",text:"Missing",Icon:J.a})),h.a.createElement(y.a,null),h.a.createElement(k.a,null,h.a.createElement("div",{className:this.props.classes.button},h.a.createElement(f.a,{variant:"button"},"Your Lists"),h.a.createElement("div",{className:this.props.classes.grow}),h.a.createElement(E.a,{onClick:this.handleDialogOpen},h.a.createElement(_.a,null))),this.state.listsLoaded?0!==this.state.lists.length?this.state.lists.map((function(t){return h.a.createElement($,{className:e.props.classes.a,handleDrawer:e.handleDrawerToggle,text:t.name,link:"/todox/lists/".concat(t.id),key:t.id})})):h.a.createElement(f.a,{variant:"body1",component:"i",className:this.props.classes.notFound},"No lists found. Click on the + icon on top right to create one"):h.a.createElement("div",{style:{padding:8}},h.a.createElement(S.a,{width:200}),h.a.createElement(S.a,{width:160}))),h.a.createElement(y.a,null),h.a.createElement(k.a,null,h.a.createElement(m.a,{button:!0},h.a.createElement(u.a,null,h.a.createElement(G.a,null)),h.a.createElement(g.a,{primary:"About us"})))))),h.a.createElement(D.a,{open:this.state.dialogOpen,onClose:this.handleDialogClose,"aria-labelledby":"form-dialog-title"},h.a.createElement(x.a,{id:"form-dialog-title"},"Add new List"),h.a.createElement(j.a,null,h.a.createElement(L.a,null,"To create a new task-list enter your list title here"),h.a.createElement(C.a,{autoFocus:!0,margin:"dense",id:"add-list-to-db",label:"List tittle",type:"text",autoComplete:"off",fullWidth:!0,error:Boolean(this.state.addError),helperText:this.state.addError})),h.a.createElement(T.a,null,h.a.createElement(N.a,{onClick:this.handleDialogClose,color:"primary"},"Cancel"),h.a.createElement(N.a,{onClick:this.createList,color:"primary"},"Add"))))}}]),n}(h.a.Component);t.default=Object(p.a)((function(e){return{drawer:Object(n.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(n.a)({background:"linear-gradient(45deg, ".concat(e.palette.primary.main,", ").concat(e.palette.secondary.main,")")},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},grow:{flexGrow:1},button:{display:"flex",padding:0,fontSize:e.typography.subtitle2.fontSize,width:"-webkit-fill-available","& .MuiTypography-root, .MuiIconButton-root":{padding:e.spacing(1)}},notFound:{fontSize:"smaller",padding:" 0 ".concat(e.spacing(1),"px"),display:"flex"}}}))(q)}}]);
//# sourceMappingURL=11.67acb69f.chunk.js.map